# –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL - –®–ø–∞—Ä–≥–∞–ª–∫–∞

## –ó–∞ 5 –º–∏–Ω—É—Ç –¥–æ HTTPS üöÄ

### 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
```bash
nslookup sushiritto.ru
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å: 83.166.246.163
```

### 2Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –æ—Ç–∫—Ä—ã—Ç—ã)
```bash
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
```

### 3Ô∏è‚É£ –£–∫–∞–∂–∏—Ç–µ email –≤ —Å–∫—Ä–∏–ø—Ç–µ
```bash
nano init-letsencrypt.sh
# –ó–∞–º–µ–Ω–∏—Ç–µ: email="your-email@example.com"
# –ù–∞: email="–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-email@example.com"
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
```bash
chmod +x init-letsencrypt.sh
./init-letsencrypt.sh
```

### 5Ô∏è‚É£ –ì–æ—Ç–æ–≤–æ! üéâ
–û—Ç–∫—Ä–æ–π—Ç–µ: https://sushiritto.ru

---

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç–µ

‚úÖ **docker-compose.yml** - –¥–æ–±–∞–≤–ª–µ–Ω—ã:
- –ü–æ—Ä—Ç 443 –¥–ª—è HTTPS
- Volumes –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä certbot –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

‚úÖ **nginx.conf** - –¥–æ–±–∞–≤–ª–µ–Ω—ã:
- –†–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS
- SSL-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

‚úÖ **init-letsencrypt.sh** - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

---

## –ü—Ä–æ–±–ª–µ–º—ã?

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
nano init-letsencrypt.sh
# –ò–∑–º–µ–Ω–∏—Ç–µ: staging=0 –Ω–∞ staging=1
./init-letsencrypt.sh
```

**–ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤—Ä—É—á–Ω—É—é:**
```bash
docker-compose run --rm certbot renew
docker-compose exec nginx nginx -s reload
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å:**
```bash
docker-compose ps
docker-compose logs nginx
docker-compose logs certbot
```

---

## –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∞–π—Ç: https://sushiritto.ru
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ SSL: https://www.ssllabs.com/ssltest/
3. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ HSTS –≤ nginx.conf (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤! ‚ú®
